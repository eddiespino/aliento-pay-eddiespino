---
import Login from '../ui/components/Login.astro';
import Layout from '../layouts/Layout.astro';
import { getAuthenticatedUser } from '../middleware';

// Get authenticated user from middleware (server-side)
const user = getAuthenticatedUser(Astro);

// If user is authenticated, redirect to dashboard
if (user) {
  return Astro.redirect('/dashboard');
}
---

<Layout>
  <Login />
</Layout>
